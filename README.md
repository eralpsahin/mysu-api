# MySU Web API [![Build Status](https://travis-ci.com/eralpsahin/mysu-api.svg?branch=master)](https://travis-ci.com/eralpsahin/mysu-api) [![Coverage Status](https://coveralls.io/repos/github/eralpsahin/mysu-api/badge.svg?branch=master)](https://coveralls.io/github/eralpsahin/mysu-api?branch=master)

> Unofficial Sabanci University MySU Web API.

## Install

`npm i mysu-api`

## Usage

MySU does not allow CORS requests, so requests made while developing on web gets HTTP 400. You can create `mysu` instance with bypassCORS configuration as a workaround.
Requests will be made through a proxy if `bypassCORS` is set to true. It drastically reduces the performance. If requests are not cross domain, set `bypassCORS` to `false`.

```js
const mysu = new MySU({ bypassCORS: true });
```

Refer to [Table of contents](#table-of-contents) for all available functions.

```js
let res = await mysu.getPerson('eralp sahin', 'alumni');
/*
res => {
  "eralpsahin": {
    "photo": "http://suisimg.sabanciuniv.edu/photos/000018105237389123.jpg",
    "name": "Eralp Şahin",
    "birthday": "2019-11-09",
    "degree": "",
    "program": ""
  }
}
*/
```

### Description

MySU API does not require authentication. It does not cross check the requested username. Without any authentication one can get anyones private information

```js
let data = await mysu.sucard(username);
/*
data => {
  meals: [...],
  prints: [...],
  transports: [...]
}
*/
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

- [authenticate](#authenticate)
  - [Parameters](#parameters)
- [sucard](#sucard)
  - [Parameters](#parameters-1)
- [courseSchedule](#courseschedule)
  - [Parameters](#parameters-2)
- [getPerson](#getperson)
  - [Parameters](#parameters-3)

### authenticate

This function authenticates the user to
MySU app.

Server does not need authentication for other requests.
Ultimately, authentication is not needed.

#### Parameters

- `username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** SU-Net username
- `password` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** SU-Net password

Returns **[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Error code of the response

### sucard

This function retrieves SuCard transaction records from MySU.

#### Parameters

- `username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** SU-Net username

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** SuCard transaction record object with `meals`, `transports`, `prints` keys.

### courseSchedule

This function retrieves Course Schedule of a student.

#### Parameters

- `username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** SU-Net username

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Object containing {courseCDN: courseTitle} fields.

### getPerson

#### Parameters

- `search` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Search string.
- `type` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Peoples type: alumni - student - staff. (optional, default `"student"`)
- `limit` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number))** Limit the number of people returned. (optional, default `""`)
- `start` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number))** Return the people starting from start index. (optional, default `0`)

## License

MIT © [Eralp Sahin](https://github.com/eralpsahin)
